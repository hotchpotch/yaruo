<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Inspecting changes - やる夫で学ぶ gitcore-tutorial</title><link href="/yaruo/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" /><script charset="utf-8" src="http://font.textar.tv/webfont.js"></script></head><body><h1>やる夫で学ぶ gitcore-tutorial</h1><div id="content"><h2>Inspecting changes</h2><pre><code class="aa">
　　　　　　　　　　　／.:.:.　　　　　　　　 ＼
　 　 　 　 　 　 　 /:,:.:.:　 ／　　　ヽ　　　　＼
　　　　　　　　　 /.:.l:.:.:/:/　　　:/ 　&#39;,　:l　　 ヾ`ｰ
　 　 　 　 　 　 /!:.:.|:.: l/　 〃 /　j　}　:|　 　 ﾊ
　　　　　　　　/ｲ:.:.i|:.:.jL∠/_/ | /l.ﾑ_/|　l 　ｌ }
　　　　　　　　　N:.ﾊ:.:.:lｨfｱﾄ/　ﾚ　ｨ=ﾄ | /| ∧j　　
　　　　　　　　　　ヽﾑ:.} ii;_j　　　　ii;ﾘ ﾙ iﾚヽ.　　　diff シリーズにはもう一つ git-diff-tree というコマンドがある
　 　 　 　 　 　 　 　 `ﾍ:ゝ　　　_ 　 　 小/　　　　　これはコミットされた tree 同士を比較する
　 　 　 　 　 　 　 　 　 ヾ:{＞､ _　ｨ＜}/|/　　　　
　　　　　　　　　　 _, ｨr&#39;´ヽ｛ __＿`}　ヽ､_　　　
　　　　　　　　　／| l:|　　　| =＝=|　　 |:lﾞヽ　　　
　　　　　 　 　 /　 | l:ｌ　　　l 　 　 l　　 l::ｌ　l
　　 　 　 　 　 l　　ヽﾊ　 　 l　 　 l　　//　 |

　 　 　　　＿＿＿_
　 　　　／　　 　 　＼
　　　／　─　 　 ─　＼
　 ／ 　 （○） 　（○） 　 ＼　まだあるのかお…
　 |　 　 　 （__人__）　　　　|　　正直覚えられないお…
　 ＼　　 　 ｀ ⌒´ 　 　 ／ 
</code></pre>

<pre><code>$ git diff-tree -p HEAD
bb8322210e30931a1d916b0d7d4dd24036ab6bbf
diff --git a/hello b/hello
index 557db03..263414f 100644
--- a/hello
+++ b/hello
@@ -1 +1,2 @@
 Hello World
+It&#39;s a new day for git
</code></pre>

<pre><code class="aa">　　　　　　　　　　　／.:.:.　　　　　　　　 ＼
　 　 　 　 　 　 　 /:,:.:.:　 ／　　　ヽ　　　　＼
　　　　　　　　　 /.:.l:.:.:/:/　　　:/ 　&#39;,　:l　　 ヾ`ｰ
　 　 　 　 　 　 /!:.:.|:.: l/　 〃 /　j　}　:|　 　 ﾊ
　　　　　　　　/ｲ:.:.i|:.:.jL∠/_/ | /l.ﾑ_/|　l 　ｌ }
　　　　　　　　　N:.ﾊ:.:.:lｨfｱﾄ/　ﾚ　ｨ=ﾄ | /| ∧j　　…HEAD, つまり最後のコミットとその親コミットでの
　　　　　　　　　　ヽﾑ:.} ii;_j　　　　ii;ﾘ ﾙ iﾚヽ.　　　ツリーの diff が出力された
　 　 　 　 　 　 　 　 `ﾍ:ゝ　　　_ 　 　 小/　　　　　
　 　 　 　 　 　 　 　 　 ヾ:{＞､ _　ｨ＜}/|/　　　　
　　　　　　　　　　 _, ｨr&#39;´ヽ｛ __＿`}　ヽ､_　　　
　　　　　　　　　／| l:|　　　| =＝=|　　 |:lﾞヽ　　　
　　　　　 　 　 /　 | l:ｌ　　　l 　 　 l　　 l::ｌ　l
　　 　 　 　 　 l　　ヽﾊ　 　 l　 　 l　　//　 |


　　 　 ,　&#39;´￣￣｀ ｰ-､　　　　　
　　 ／　　 〃&quot; ｀ヽ､　＼　　　　
　 /　/　 ﾊ/　　　　 ＼ﾊﾍ　　　
　 |i │ ｌ |ﾘノ　　　 ｀ヽ}_}ハ.　　やる夫くんにもわかるように AA を拾ってきたよ！
　 |i　|　从 ● 　 　 ●ｌ小N　　
　 |i （|　⊂⊃ ､_,､_,　⊂lｉ|ノ　　 
　 | i⌒ヽ j　　（_.ノ 　　ﾉi|__／⌒)　
　 | ヽ 　ヽx＞､ __,　イｌ　|::::ヽ／.
　 |　∧__,ﾍ}::ﾍ三|:::::/ｌ|　|&#39;,:::::ﾊ　　
　 |　ヾ_:::ッﾘ :::∨:／　|　| &gt;&#39;&#39;&#39;´
</code></pre>

<pre><code>            diff-tree
             +----+
             |    |
             |    |
             V    V
          +-----------+
          | Object DB |
          |  Backing  |
          |   Store   |
          +-----------+
            ^    ^
            |    |
            |    |  diff-index --cached
            |    |
diff-index  |    V
            |  +-----------+
            |  |   Index   |
            |  |  &quot;cache&quot;  |
            |  +-----------+
            |    ^
            |    |
            |    |  diff-files
            |    |
            V    V
          +-----------+
          |  Working  |
          | Directory |
          +-----------+
</code></pre>

<pre><code class="aa">　　　　　　＿＿＿
　　　　／ ⌒　　⌒＼
　　 ／　（⌒）　 （⌒） ＼　　　
　／ 　 ///（__人__）/// ＼　　
　|　　 u. 　 `Y⌒y&#39;´　　　 |　　　ありがたいお！
　 ＼ 　 　 　 ﾞー ′　　,／　　　さっそく壁紙にしたお！！
 　 /⌒ヽ　 　ー‐ 　 　ｨヽ　　　　
　 / rｰ&#39;ゝ　　　　　　　〆ヽ
　/,ﾉヾ　,&gt;　　　　　　ヾ_ノ,|
　|　ヽ〆　　　　　　　　|´　|


　　 　 ,　&#39;´￣￣｀ ｰ-､　　　　　
　　 ／　　 〃&quot; ｀ヽ､　＼　　　　
　 /　/　 ﾊ/　　　　 ＼ﾊﾍ　　　
　 |i │ ｌ |ﾘノ　　　 ｀ヽ}_}ハ.　　　git-diff-tree に --pretty オプションを渡すと
　 |i　|　从 ● 　 　 ●ｌ小N　　　 コミットメッセージも一緒に表示してくれるよ！
　 |i （|　⊂⊃ ､_,､_,　⊂lｉ|ノ　　 　これをリビジョンのリストを表示してくれる git-rev-list を組み合わせると
　 | i⌒ヽ j　　（_.ノ 　　ﾉi|__／⌒)　プロジェクトの変更履歴が見られて便利なのさ
　 | ヽ 　ヽx＞､ __,　イｌ　|::::ヽ／.　 git-whatchanged ってコマンドがそれをやってくれるんだよっ
　 |　∧__,ﾍ}::ﾍ三|:::::/ｌ|　|&#39;,:::::ﾊ　　
　 |　ヾ_:::ッﾘ :::∨:／　|　| &gt;&#39;&#39;&#39;´


　 　 　　　＿＿＿_
　 　　　／　　 　 　＼
　　　／　 _ノ 　ヽ､_　 ＼　　難しすぎるお…
　 ／ 　oﾟ⌒　　　⌒ﾟo　 ＼ 　もっと簡単な方法を要求するお…
　 |　　　　 （__人__）　　　　|
　 ＼　　 　 ｀ ⌒´ 　 　 ／


　　　　　　　　　　　／.:.:.　　　　　　　　 ＼
　 　 　 　 　 　 　 /:,:.:.:　 ／　　　ヽ　　　　＼
　　　　　　　　　 /.:.l:.:.:/:/　　　:/ 　&#39;,　:l　　 ヾ`ｰ
　 　 　 　 　 　 /!:.:.|:.: l/　 〃 /　j　}　:|　 　 ﾊ
　　　　　　　　/ｲ:.:.i|:.:.jL∠/_/ | /l.ﾑ_/|　l 　ｌ }
　　　　　　　　　N:.ﾊ:.:.:lｨfｱﾄ/　ﾚ　ｨ=ﾄ | /| ∧j　　普段使う分には git-log で十分…
　　　　　　　　　　ヽﾑ:.} ii;_j　　　　ii;ﾘ ﾙ iﾚヽ.　　　
　 　 　 　 　 　 　 　 `ﾍ:ゝ　　　_ 　 　 小/　　　　　
　 　 　 　 　 　 　 　 　 ヾ:{＞､ _　ｨ＜}/|/　　　　
　　　　　　　　　　 _, ｨr&#39;´ヽ｛ __＿`}　ヽ､_　　　
　　　　　　　　　／| l:|　　　| =＝=|　　 |:lﾞヽ　　　
　　　　　 　 　 /　 | l:ｌ　　　l 　 　 l　　 l::ｌ　l
　　 　 　 　 　 l　　ヽﾊ　 　 l　 　 l　　//　 |
</code></pre>

<pre><code>$ git log
commit bb8322210e30931a1d916b0d7d4dd24036ab6bbf
Author: yaruo &lt;yaruo@example.com&gt;
Date:   Sat Jul 26 15:24:24 2008 +0900

    ⊂二二二（ ＾ω＾）二⊃

commit 71e583b286465e8ec7b92d4b642dc77fee53562e
Author: yaruo &lt;yaruo@example.com&gt;
Date:   Sat Jul 26 13:02:42 2008 +0900

    Initial commit

</code></pre>

<pre><code class="aa">　 　 　　　＿＿＿_
　 　　　／⌒　　⌒＼
　　　／（ ●） 　（●）＼　　コミットログが見れたお！
　 ／::::::⌒（__人__）⌒::::: ＼　簡単だお！！
　 |　　　　　|r┬-|　　　　　|　
　 ＼ 　　 　 `ー&#39;´ 　 　 ／



　　　　　　　　　　　／.:.:.　　　　　　　　 ＼
　 　 　 　 　 　 　 /:,:.:.:　 ／　　　ヽ　　　　＼
　　　　　　　　　 /.:.l:.:.:/:/　　　:/ 　&#39;,　:l　　 ヾ`ｰ
　 　 　 　 　 　 /!:.:.|:.: l/　 〃 /　j　}　:|　 　 ﾊ
　　　　　　　　/ｲ:.:.i|:.:.jL∠/_/ | /l.ﾑ_/|　l 　ｌ }　　低レベルなコマンドから解説しているけれど
　　　　　　　　　N:.ﾊ:.:.:lｨfｱﾄ/　ﾚ　ｨ=ﾄ | /| ∧j　　 git-commit のようにだいたい簡単なコマンドが用意されている
　　　　　　　　　　ヽﾑ:.} ii;_j　　　　ii;ﾘ ﾙ iﾚヽ.　　　
　 　 　 　 　 　 　 　 `ﾍ:ゝ　　　_ 　 　 小/　　　　　例えば git-update-index --add は git-add で
　 　 　 　 　 　 　 　 　 ヾ:{＞､ _　ｨ＜}/|/　　　　　　git-update-index --remove は git-rm で代用できる
　　　　　　　　　　 _, ｨr&#39;´ヽ｛ __＿`}　ヽ､_　　　
　　　　　　　　　／| l:|　　　| =＝=|　　 |:lﾞヽ　　　
　　　　　 　 　 /　 | l:ｌ　　　l 　 　 l　　 l::ｌ　l
　　 　 　 　 　 l　　ヽﾊ　 　 l　 　 l　　//　 |


　 　 　　　＿＿＿_
　 　　　／⌒　　⌒＼
　　　／（ ●） 　（●）＼　　git は低レベルなタンポポコマンドと
　 ／::::::⌒（__人__）⌒::::: ＼　高レベルなゆとりコマンドで構成されてるってことかお！
　 |　　　　　|r┬-|　　　　　|　
　 ＼ 　　 　 `ー&#39;´ 　 　 ／


　　 　 ,　&#39;´￣￣｀ ｰ-､　　　　　
　　 ／　　 〃&quot; ｀ヽ､　＼　　　　
　 /　/　 ﾊ/　　　　 ＼ﾊﾍ　　　ゆとり乙！
　 |i │ ｌ |ﾘノ　　　 ｀ヽ}_}ハ.　　　次はタグの作成だよっ！
　 |i　|　从 ● 　 　 ●ｌ小N　　　
　 |i （|　⊂⊃ ､_,､_,　⊂lｉ|ノ　　 　
　 | i⌒ヽ j　　（_.ノ 　　ﾉi|__／⌒)　
　 | ヽ 　ヽx＞､ __,　イｌ　|::::ヽ／.　 
　 |　∧__,ﾍ}::ﾍ三|:::::/ｌ|　|&#39;,:::::ﾊ　　
　 |　ヾ_:::ッﾘ :::∨:／　|　| &gt;&#39;&#39;&#39;´
</code></pre>

<!-- --root オプション、git-whatchanged -p -->
</div><script>for (var aas = document.querySelectorAll('.aa'), i = 0, aa = aas[i]; aa = aas[i++]; ) aa.className = 'textar-aa'; </script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-34276254-3', 'motemen.github.io'); ga('send', 'pageview'); </script></body></html>